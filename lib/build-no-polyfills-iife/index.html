<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="refresh" content="1800" >
  <title>XWeather</title>
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />
  <style>
    html, body, #app {
      height: 100%;
      margin: 0px;
      width: 100%;
    }
  </style>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      // refresh every half hour
      window.setTimeout(() => {
        window.location.reload(true)
      }, 30 * 60 * 1000)
    })
  </script>
</head>

<body>
  <div id="app">
    <style>
      [data-icon] {
        display: block;
      }

      x-weather {
        --x-weather-location-margin: 1.5rem;

        --icon-display: block;
      }

      x-current {
        width: 12rem;
        margin: auto;
      }

      x-forecast {
        --x-forecast-item-width: 12rem;
        --x-forecast-item-margin: auto;
        --x-forecast-date-container-grid-template-columns: repeat(auto-fill, minmax(12rem, 1fr));
      }

      x-forecast-item {
        float: left;
        width: 12rem;
      }
    </style>

    <x-weather
      appid="NOT_A_REAL_API_KEY"
      host="api.openweathermap.org"
      location="Phoenix, Arizona"
    >
      <x-current scale="F"></x-current>
      <x-forecast days="14" scale="F"></x-forecast>
    </x-weather>
  </div>

  <!-- The actual Web component -->
  <script
    defer
    charset="utf-8"
    src="./iife/main.js"
  ></script>
  <script type="module">
    import registerServiceWorker from './registerServiceWorker.js'

    registerServiceWorker('NOT_THE_REAL_PUBLIC_URL')
  </script>
</body>
</html>
