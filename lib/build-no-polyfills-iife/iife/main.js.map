{"version":3,"file":"main.js","sources":["../../src/utilities.js","../../src/components/x-current.js","../../src/components/x-forecast-item.js","../../src/components/x-forecast.js","../../src/components/x-weather.js","../../src/main.js"],"sourcesContent":["export const convertTemperature = (t, calcString = 'cToF') => {\n  const cToK = t => t + 273.15\n  const kToC = t => t - 273.15\n  const cToF = t => (9 / 5 * t) + 32\n  const fToC = t => (t - 32) * 5 / 9\n\n  return {\n    cToK,\n    kToC,\n    cToF,\n    fToC,\n    kToF: t => cToF(kToC(t)),\n    fToK: t => cToK(fToC(t))\n  }[calcString](t)\n}\n\n/**\n * attempting to be RFC4122 version 4 compliant adapted from:\n * https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n */\nexport const generateUUID = () => {\n  let d = new Date().getTime()\n\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    d += performance.now()\n  }\n\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (d + Math.random() * 16) % 16 | 0\n\n    d = Math.floor(d / 16)\n\n    return (c === 'x'\n      ? r\n      : (r & 0x3 | 0x8)).toString(16)\n  })\n}\n\n// custom getElementById intended for use with undom\nexport const getElementById = (id, root) => {\n  // a linkedList would be more performant in time and space complexity\n  let queue = []\n\n  queue.push(root)\n\n  let currentNode\n\n  while (queue.length) {\n    currentNode = queue.shift()\n\n    if (currentNode.id === id) {\n      return currentNode\n    }\n\n    queue.push(...currentNode.children)\n  }\n\n  return false\n}\n\nexport const isObjectEmpty = obj => Object.keys(obj).length === 0 && obj.constructor === Object\n\nexport const loadComponent = ({ customElements, tagName, element }) => {\n  const load = ({ customElements, tagName, element }) => {\n    customElements.define(tagName, element)\n  }\n\n  // Conditional loading of polyfill\n  if (window.customElements) {\n    load({ customElements, tagName, element })\n  } else {\n    document.addEventListener('WebComponentsReady', () => {\n      load({ customElements, tagName, element })\n    })\n  }\n}\n\nexport const unixEpochToDate = timestamp => new Date(timestamp * 1000)\n\nexport const dateTime = date => ({\n  date: date,\n  results: '',\n  getResults: function () {\n    return this.results\n  },\n  getTimeStamp: function () {\n    return this.date.getTime()\n  },\n  Y: function(sep) {\n    this.results += this.date.getFullYear()\n\n    if (this.sep(sep)) {\n      this.results += sep\n    }\n\n    return this\n  },\n  m: function(sep) {\n    this.results += this.pad(this.date.getMonth() + 1)\n\n    if (this.sep(sep)) {\n      this.results += sep\n    }\n\n    return this\n  },\n  d: function(sep) {\n    this.results += this.pad(this.date.getDate())\n\n    if (this.sep(sep)) {\n      this.results += sep\n    }\n\n    return this\n  },\n  H: function (sep) {\n    this.results += this.pad(this.date.getHours())\n\n    if (this.sep(sep)) {\n      this.results += sep\n    }\n\n    return this\n  },\n  M: function (sep) {\n    this.results += this.pad(this.date.getMinutes())\n\n    if (this.sep(sep)) {\n      this.results += sep\n    }\n\n    return this\n  },\n  S: function(sep) {\n    this.results += this.pad(this.date.getSeconds())\n\n    if (this.sep(sep)) {\n      this.results += sep\n    }\n\n    return this\n  },\n  pad: function(val) {\n    return (val < 10) ? ('0' + val) : val\n  },\n  sep: function(sep) {\n    return sep ? true: false\n  }\n})\n\n// input \"00:00:00\" through \"23:59:59\"\nexport const to12HourTime = timeStamp => {\n  const splitTimeStamp = String(timeStamp).split(':')\n\n  let hours = Number(splitTimeStamp[0])\n  let minutes = Number(splitTimeStamp[1]) || 0\n  let seconds = Number(splitTimeStamp[2]) || 0\n\n  if (hours < 0\n    || hours > 23\n    || minutes < 0\n    || minutes > 59\n    || seconds < 0\n    || seconds > 59\n  ) {\n    hours = minutes = seconds = 0\n  }\n\n  let timeString = '12'\n\n  if (hours > 0 && hours <= 12) {\n    timeString = String(hours)\n  }\n\n  if (hours > 12) {\n    timeString = String(hours % timeString)\n  }\n\n  timeString += minutes < 10\n    ? ':0' + minutes\n    : ':' + minutes\n\n  timeString += seconds < 10\n    ? ':0' + seconds\n    : ':' + seconds\n\n  timeString += hours >= 12\n    ? ' p.m.'\n    : ' a.m.'\n\n  return timeString\n}\n","import { convertTemperature, dateTime, loadComponent, to12HourTime, unixEpochToDate } from '../utilities.js'\n// import current from '../../fixtures/current'\n\nconst template = `\n  <style>\n    :host {\n      display: block;\n\n      --icon-display: inherit\n    }\n\n    [data-icon] {\n      display: var(--icon-display);\n    }\n\n    div[data-x-current] ul {\n      list-style-type: none;\n\n      padding: 0 0 1rem 1.5rem;\n    }\n\n    div[data-x-current] ul > li {\n      padding: 0.5rem 0 0 0;\n    }\n\n    div[data-x-current] #alternateScale {\n      cursor: pointer;\n      border-bottom: 1px dotted;\n    }\n  </style>\n\n  <div data-x-current>\n    <ul>\n      <li><b id=\"time\"></b></li>\n      <li data-icon><img alt=\"\" id=\"icon\"></img></li>\n      <li>Current:</li>\n      <li>\n        <span id=\"temperature\"></span>°<span id=\"primaryScale\"></span> / <span><a id=\"alternateScale\"></a></span>\n      </li>\n    </ul>\n  </div>\n`\n\nconst XCurrent = class extends HTMLElement {\n  constructor() {\n    super()\n\n    const container = document.createElement('div')\n    container.innerHTML = template\n\n    this.attachShadow({ mode: 'open' }).appendChild(container)\n  }\n\n  connectedCallback() {\n    this.refresh().then(currentWeather => {\n      this.render(currentWeather)\n      // set this as a class property to be used later\n      this.currentWeather = currentWeather\n\n      this.primaryScale = this.shadowRoot.querySelector('#primaryScale')\n      this.alternateScale = this.shadowRoot.querySelector('#alternateScale')\n\n      this.primaryScale.textContent = this.scale\n      this.alternateScale.textContent = this.scale === 'C' ? 'F' : 'C'\n\n      this.alternateScale.onclick = () => {\n        // https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent#Differences_from_innerText\n        // Sometimes people use innerHTML to retrieve or write text inside an element.\n        // textContent has better performance because its value is not parsed as HTML.\n        // Moreover, using textContent can prevent XSS attacks.\n        this.scale = this.alternateScale.textContent\n\n        // check for xForecast and set the scale attribute\n        const xForecast = this.parentElement.querySelector('x-forecast')\n\n        if (xForecast) {\n          xForecast.setAttribute('scale', this.primaryScale.textContent)\n        }\n      }\n    })\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    // handle the scale attribute change\n    if (\n      attrName === 'scale' &&\n      oldVal !== newVal &&\n      this.alternateScale &&\n      this.primaryScale\n    ) {\n      if (newVal === 'C') {\n        this.alternateScale.textContent = 'F'\n        this.primaryScale.textContent = newVal\n      }\n\n      if (newVal === 'F') {\n        this.alternateScale.textContent = 'C'\n        this.primaryScale.textContent = newVal\n      }\n\n      this.render(this.currentWeather)\n    }\n  }\n\n  static get observedAttributes() {\n    return [ 'scale' ]\n  }\n\n  get appid() {\n    return this.getAttribute('appid')\n  }\n\n  set appid(appid) {\n    this.setAttribute('appid', appid)\n  }\n\n  get host() {\n    return this.getAttribute('host')\n  }\n\n  set host(host) {\n    this.setAttribute('host', host)\n  }\n\n  get location() {\n    return this.getAttribute('location')\n  }\n\n  set location(location) {\n    this.setAttribute('location', location)\n  }\n\n  set iconAlt(iconAlt) {\n    this.shadowRoot.querySelector('#icon').setAttribute('alt', iconAlt)\n  }\n\n  set iconSrc(iconSrc) {\n    this.shadowRoot.querySelector('#icon').src = iconSrc\n  }\n\n  get scale() {\n    return this.getAttribute('scale')\n  }\n\n  set scale(scale) {\n    this.setAttribute('scale', scale)\n  }\n\n  set temperature(temperature) {\n    this.setAttribute('temperature', temperature)\n\n    this.shadowRoot.querySelector('#temperature').textContent = temperature\n  }\n\n  set timestamp(timestamp) {\n    this.shadowRoot.querySelector('#time').textContent = to12HourTime(\n      dateTime(unixEpochToDate(timestamp))\n        .H(':')\n        .M(':')\n        .S()\n        .getResults()\n    )\n  }\n\n  _getCurrentWeather({ appid, host, location }) {\n    if (appid && host && location) {\n\n      return this._serviceHandler({ appid, host, location }).then(result => {\n        const { coord, weather, base, main, visibility, wind, clouds, dt, sys, id, name, cod } = result // eslint-disable-line no-unused-vars\n\n        return {\n          iconAlt: weather[0].description,\n          iconSrc: weather[0].icon,\n          temperature: {\n            kelvin: main.temp,\n            celsius: convertTemperature(main.temp, 'kToC'),\n            fahrenheit: convertTemperature(main.temp, 'kToF')\n          },\n          timestamp: dt\n        }\n      })\n    }\n  }\n\n  _serviceHandler({ appid, host, location }) {\n    const url = `https://${host}/data/2.5/weather?q=${location}&appid=${appid}` // eslint-disable-line no-unused-vars\n\n    // return current\n    return fetch(url, {\n      method: 'GET'\n    }).then(res => {\n      if (res.ok) {\n        return res.json()\n      }\n    })\n  }\n\n  refresh() {\n    const config = {\n      appid: this.parentElement.getAttribute('appid'),\n      host: this.parentElement.getAttribute('host'),\n      location: this.parentElement.getAttribute('location')\n    }\n\n    return this._getCurrentWeather(config)\n  }\n\n  render({ iconAlt, iconSrc, temperature, timestamp }) {\n    this.temperature = Number.parseFloat(temperature[this.scale === 'C' ? 'celsius' : 'fahrenheit']).toFixed(2)\n    this.iconAlt = iconAlt\n    this.iconSrc = `https://openweathermap.org/img/w/${iconSrc}.png`\n    this.timestamp = timestamp\n  }\n}\n\nexport const load = () => loadComponent({\n  customElements: customElements,\n  tagName: 'x-current',\n  element: XCurrent\n})\n\nexport default XCurrent\n","import { loadComponent } from '../utilities.js'\n\nconst template = `\n  <style>\n    :host {\n      display: block;\n\n      --icon-display: inherit\n    }\n\n    [data-icon] {\n      display: var(--icon-display);\n    }\n\n    ul[data-x-forecast-item] {\n      list-style-type: none;\n\n      padding: 0 0 1rem 1.5rem;\n    }\n\n    ul[data-x-forecast-item] > li {\n      padding: 0.5rem 0 0 0;\n    }\n  </style>\n\n  <ul data-x-forecast-item>\n    <li>\n      <u id=\"forecastDate\"></u>\n    </li>\n    <li data-icon>\n      <img id=\"icon\" />\n    </li>\n    <li>Day: <span id=\"day\"></span>°<span data-scale></span></li>\n    <li>Night: <span id=\"night\"></span>°<span data-scale></span></li>\n  </ul>\n`\n\nconst XForecastItem = class extends HTMLElement {\n  constructor() {\n    super()\n\n    const container = document.createElement('div')\n    container.innerHTML = template\n\n    this.attachShadow({ mode: 'open' }).appendChild(container)\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    switch (attrName) {\n      case 'day':\n        this.shadowRoot.getElementById('day').textContent = newVal\n        break;\n      case 'description':\n        this.shadowRoot.getElementById('icon').alt = newVal\n        break;\n      case 'forecast-date':\n        this.shadowRoot.getElementById('forecastDate').textContent = newVal\n        break;\n      case 'icon':\n        this.shadowRoot.getElementById('icon').src = newVal\n        break;\n      case 'night':\n        this.shadowRoot.getElementById('night').textContent = newVal\n        break;\n      case 'scale':\n        this.shadowRoot.querySelectorAll('[data-scale]').forEach(element => {\n          element.textContent = newVal\n        })\n        break;\n    }\n  }\n\n  static get observedAttributes() {\n    return [ 'day', 'description', 'forecast-date', 'icon', 'night', 'scale' ]\n  }\n}\n\nexport const load = () => loadComponent({\n  customElements: customElements,\n  tagName: 'x-forecast-item',\n  element: XForecastItem\n})\n\nexport default XForecastItem\n","import { convertTemperature, dateTime, isObjectEmpty, loadComponent, unixEpochToDate } from '../utilities.js'\n// import forecast from '../../fixtures/forecast'\n\nconst template = `\n  <style>\n    :host {\n      display: block;\n\n      --x-forecast-item-float: inherit;\n      --x-forecast-item-width: inherit;\n    }\n\n    x-forecast-item {\n      float: var(--x-forecast-item-float);\n      width: var(--x-forecast-item-width);\n    }\n  </style>\n\n  <div data-x-forecast>\n    <div data-x-forecast-date-container>\n  <div/>\n`\n\nconst XForecast = class extends HTMLElement {\n  constructor() {\n    super()\n\n    const container = document.createElement('div')\n    container.innerHTML = template\n\n    this.attachShadow({ mode: 'open' }).appendChild(container)\n  }\n\n  connectedCallback() {\n    this.refresh().then((currentForecast) => {\n      this.render(currentForecast, this.days)\n\n      // set this as a class property to be used later\n      this.currentForecast = currentForecast\n    })\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    // handle the scale and days attribute change\n    if (oldVal === newVal) {\n      return\n    }\n\n    if (this.days === null) {\n      return\n    }\n\n    if (attrName === 'days' || attrName === 'scale') {\n      this.render(this.currentForecast, this.days)\n    }\n  }\n\n  static get observedAttributes() {\n    return [ 'days', 'scale' ]\n  }\n\n  get appid() {\n    return this.getAttribute('appid')\n  }\n\n  set appid(appid) {\n    this.setAttribute('appid', appid)\n  }\n\n  get days() {\n    return this.getAttribute('days')\n  }\n\n  set days(days) {\n    this.setAttribute('days', days)\n  }\n\n  get host() {\n    return this.getAttribute('host')\n  }\n\n  set host(host) {\n    this.setAttribute('host', host)\n  }\n\n  get location() {\n    return this.getAttribute('location')\n  }\n\n  set location(location) {\n    this.setAttribute('location', location)\n  }\n\n  get scale() {\n    return this.getAttribute('scale')\n  }\n\n  set scale(scale) {\n    this.setAttribute('scale', scale)\n  }\n\n  _buildDateContainer(forecast, days) {\n    const dateContainer = document.createElement('div')\n    dateContainer.setAttribute('data-x-forecast-date-container', '')\n\n    // build forecast list\n    if (forecast && !isObjectEmpty(forecast)) {\n      const today = dateTime(new Date()).Y('-').m('-').d('').getResults()\n\n      // shorten the forecast to the requested number of days, https://mzl.la/2JDIuy6\n      // if the attribute is changed to be smaller\n      if (forecast.length > days) {\n        forecast.length = days;\n      }\n\n      forecast.forEach(props => {\n        const { dt, temp, pressure, humidity, weather, speed, deg, clouds, rain } = props // eslint-disable-line no-unused-vars\n\n        const dateItem = document.createElement('x-forecast-item')\n        dateItem.setAttribute('day', this._convertForecast({ scale: this.scale, timeOfDayTemp: temp.day }))\n        dateItem.setAttribute('description', weather[0].description)\n        dateItem.setAttribute('forecast-date', this._getDayOfWeek({ dt, today }))\n        dateItem.setAttribute('icon', `https://openweathermap.org/img/w/${weather[0].icon}.png`)\n        dateItem.setAttribute('night', this._convertForecast({ scale: this.scale, timeOfDayTemp: temp.night }))\n        dateItem.setAttribute('scale', this.scale)\n\n        dateContainer.appendChild(dateItem)\n      })\n    }\n\n    return dateContainer\n  }\n\n  _convertForecast({ scale, timeOfDayTemp }) {\n    return `${Number.parseFloat(scale === 'F' ? convertTemperature(timeOfDayTemp, 'cToF') : timeOfDayTemp).toFixed(2)}`\n  }\n\n  _getDayOfWeek({ dt, today }) {\n    const timestamp = unixEpochToDate(dt)\n    const current = dateTime(timestamp).Y('-').m('-').d().getResults()\n\n    if (current === today) {\n      return 'Today:'\n    }\n\n    const weekDay = dateTime(timestamp)['date'].toLocaleString('en-US', { weekday: 'long'} )\n    const ddMM = dateTime(timestamp).m('/').d().getResults()\n\n    return `${weekDay} (${ddMM}):`\n  }\n\n  _getForecast({ appid, host, location }) {\n    if (appid && host && location) {\n      return this._serviceHandler({ appid, host, location }).then(result => {\n        const { city, cod, message, cnt, list } = result // eslint-disable-line no-unused-vars\n\n        return list\n      })\n    }\n  }\n\n  _serviceHandler({ appid, host, location }) {\n    const url = `https://${host}/data/2.5/forecast/daily?q=${location}&mode=json&units=metric&cnt=14&appid=${appid}` // eslint-disable-line no-unused-vars\n\n    // return forecast\n    return fetch(url, {\n      method: 'GET'\n    }).then(res => {\n      if (res.ok) {\n        return res.json()\n      }\n    })\n  }\n\n  refresh() {\n    const config = {\n      appid: this.parentElement.getAttribute('appid'),\n      host: this.parentElement.getAttribute('host'),\n      location: this.parentElement.getAttribute('location')\n    }\n\n    return this._getForecast(config)\n  }\n\n  render(res, days) {\n    const forecastDayNode = this.shadowRoot.querySelector('[data-x-forecast]')\n    const dateContainerNode = this.shadowRoot.querySelector('[data-x-forecast] > [data-x-forecast-date-container]')\n\n    forecastDayNode.replaceChild(this._buildDateContainer(res, days), dateContainerNode)\n  }\n}\n\nexport const load = () => loadComponent({\n  customElements: customElements,\n  tagName: 'x-forecast',\n  element: XForecast\n})\n\nexport default XForecast\n","import { loadComponent } from '../utilities.js'\n\nconst template = `\n  <style>\n    :host {\n      display: block;\n\n      --x-weather-location-margin: inherit;\n    }\n\n    div[data-x-weather] #location {\n      border: 0;\n      font-style: italic;\n      margin: var(--x-weather-location-margin);\n      padding: 0 2.5% 0 0;\n      width: 95%;\n    }\n  </style>\n\n  <div data-x-weather>\n    <div><input id=\"location\"></input></div>\n\n    <slot></slot>\n  </div>\n`\n\nconst XWeather = class extends HTMLElement {\n  constructor() {\n    super()\n\n    const container = document.createElement('div')\n    container.innerHTML = template\n\n    this.attachShadow({ mode: 'open' }).appendChild(container)\n  }\n\n  connectedCallback() {\n    this._upgradeProperty('appid')\n    this._upgradeProperty('host')\n    this._upgradeProperty('location')\n\n    this.xCurrent = this.querySelector('x-current')\n    this.xForecast = this.querySelector('x-forecast')\n\n    this._renderLocation(this.location)\n\n    const location = this.shadowRoot.querySelector('#location')\n\n    location.addEventListener('change', () => {\n      this.location = location.value\n\n      this.xCurrent.refresh().then(currentWeather => {\n        this.xCurrent.render(currentWeather)\n        // set this as a class property to be used later\n        this.xCurrent.currentWeather = currentWeather\n      })\n\n      this.xForecast.refresh().then(currentForecast => {\n        this.xForecast.render(currentForecast)\n        // set this as a class property to be used later\n        this.xForecast.currentForecast = currentForecast\n      })\n    })\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    if (oldVal !== newVal && attrName === 'appid' || attrName === 'host' || attrName === 'location') {\n      if (attrName === 'location') {\n        this._renderLocation(this.location)\n      }\n\n      if (this.xCurrent) {\n        this.xCurrent.setAttribute(attrName, newVal)\n      }\n\n      if (this.xForecast) {\n        this.xForecast.setAttribute(attrName, newVal)\n      }\n    }\n  }\n\n  static get observedAttributes() {\n    return [ 'appid', 'host', 'location' ]\n  }\n\n  get appid() {\n    return this.getAttribute('appid')\n  }\n\n  set appid(appid) {\n    this.setAttribute('appid', appid)\n  }\n\n  get host() {\n    return this.getAttribute('host')\n  }\n\n  set host(host) {\n    this.setAttribute('host', host)\n  }\n\n  get location() {\n    return this.getAttribute('location')\n  }\n\n  set location(location) {\n    this.setAttribute('location', location)\n  }\n\n  _renderLocation(location) {\n    this.shadowRoot.querySelector('#location').value = location\n  }\n\n  _upgradeProperty(prop) {\n    if (this.hasOwnProperty(prop)) {\n      let value = this[prop]\n\n      delete this[prop]\n\n      this[prop] = value\n    }\n  }\n}\n\nexport const load = () => loadComponent({\n  customElements: customElements,\n  tagName: 'x-weather',\n  element: XWeather\n})\n\nexport default XWeather\n","// get components\nimport XCurrent, { load as XCurrentLoad } from './components/x-current.js'\nimport XForecastItem, { load as XForecastItemLoad } from './components/x-forecast-item.js'\nimport XForecast, { load as XForecastLoad } from './components/x-forecast.js'\nimport XWeather, { load as XWeatherLoad } from './components/x-weather.js'\n\nXCurrentLoad()\nXForecastItemLoad()\nXForecastLoad()\n\nXWeatherLoad()\n\nexport default {\n  XCurrent, XForecastItem, XForecast, XWeather\n}\n"],"names":["convertTemperature","t","calcString","cToK","kToC","cToF","fToC","kToF","fToK","isObjectEmpty","Object","keys","obj","length","constructor","loadComponent","customElements","tagName","element","load","define","window","document","addEventListener","unixEpochToDate","Date","timestamp","dateTime","date","results","getResults","getTimeStamp","getTime","Y","sep","getFullYear","m","pad","getMonth","d","getDate","H","getHours","M","getMinutes","S","getSeconds","val","to12HourTime","splitTimeStamp","String","timeStamp","split","hours","Number","minutes","seconds","timeString","template","XCurrent","container","createElement","innerHTML","attachShadow","mode","appendChild","refresh","then","render","currentWeather","primaryScale","shadowRoot","querySelector","alternateScale","textContent","scale","onclick","xForecast","parentElement","setAttribute","attrName","oldVal","newVal","appid","host","location","_serviceHandler","coord","result","weather","base","main","visibility","wind","clouds","dt","sys","id","name","cod","iconAlt","description","iconSrc","icon","temperature","kelvin","temp","celsius","fahrenheit","url","fetch","method","res","ok","json","config","getAttribute","_getCurrentWeather","parseFloat","toFixed","src","XForecastItem","getElementById","alt","querySelectorAll","forEach","XForecast","currentForecast","days","forecast","dateContainer","today","props","pressure","humidity","speed","deg","rain","dateItem","_convertForecast","timeOfDayTemp","day","_getDayOfWeek","night","current","weekDay","toLocaleString","weekday","ddMM","city","message","cnt","list","_getForecast","forecastDayNode","dateContainerNode","replaceChild","_buildDateContainer","XWeather","_upgradeProperty","xCurrent","_renderLocation","value","prop","hasOwnProperty","XCurrentLoad","XForecastItemLoad","XForecastLoad","XWeatherLoad"],"mappings":"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"}