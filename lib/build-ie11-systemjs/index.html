<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="refresh" content="1800" >
  <title>XWeather</title>
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />
  <style>
    html, body, #app {
      height: 100%;
      margin: 0px;
      width: 100%;
    }
  </style>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      // refresh every half hour
      window.setTimeout(() => {
        window.location.reload(true)
      }, 30 * 60 * 1000)
    })
  </script>
</head>

<body>
  <div id="app">
    <style>
      [data-icon] {
        display: block;
      }

      x-weather {
        --x-weather-location-margin: 1.5rem;

        --icon-display: block;
      }

      x-current {
        width: 12rem;
        margin: auto;
      }

      x-forecast {
        --x-forecast-item-width: 12rem;
        --x-forecast-item-margin: auto;
        --x-forecast-date-container-grid-template-columns: repeat(auto-fill, minmax(12rem, 1fr));
      }

      x-forecast-item {
        float: left;
        width: 12rem;
      }
    </style>

    <x-weather
      appid="NOT_A_REAL_API_KEY"
      host="api.openweathermap.org"
      location="Phoenix, Arizona"
    >
      <x-current scale="F"></x-current>
      <x-forecast days="14" scale="F"></x-forecast>
    </x-weather>
  </div>

  <!-- Required for IE11 -->
  <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/systemjs@0.21.4/dist/system-production.js"></script>

  <script defer src="https://rawgit.com/github/fetch/1.1/fetch.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/babel-polyfill/dist/polyfill.min.js"></script>

  <div id="ce-es5-shim">
    <script>
      if (!window.customElements) {
        var ceShimContainer = document.querySelector('#ce-es5-shim')

        // This prevents custom-elements-es5-adapter.js from parsing or running.
        ceShimContainer.parentElement.removeChild(ceShimContainer)
      }
    </script>

    <!-- Required, due to a conflict between the polyfills, transpilation, and IE... -->
    <script
      defer
      charset="utf-8"
      src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"
    ></script>
  </div>

  <!-- Web component polyfill (only loads what it needs) -->
  <script
    charset="utf-8"
    src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/webcomponents-lite.js"
  ></script>

  <!-- The actual Web component -->
  <script defer>
    SystemJS.import('./systemjs/main.js')
  </script>
</body>

</html>
